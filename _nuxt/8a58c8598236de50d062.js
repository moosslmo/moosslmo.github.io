(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{698:function(t,e,r){var content=r(705);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(106).default)("72541fd0",content,!0,{sourceMap:!1})},704:function(t,e,r){"use strict";var n=r(698);r.n(n).a},705:function(t,e,r){(t.exports=r(105)(!1)).push([t.i,".user[data-v-141c844f]{display:grid}.user__message[data-v-141c844f]{position:absolute;display:inline-block;-webkit-transform-origin:bottom center;transform-origin:bottom center;-webkit-transform:translateX(-50%) translateY(calc(-100% - 58px));transform:translateX(-50%) translateY(calc(-100% - 58px));background-color:#ddd;border-radius:8px;padding:4px 8px;max-width:150px}.user__message.new[data-v-141c844f]{-webkit-animation:popup-data-v-141c844f .15s cubic-bezier(.175,.885,.32,1.275);animation:popup-data-v-141c844f .15s cubic-bezier(.175,.885,.32,1.275)}.user__avatar[data-v-141c844f]{position:absolute;cursor:none;border-radius:100%}.user__name[data-v-141c844f]{position:absolute;-webkit-transform:translateX(-50%) translateY(55px);transform:translateX(-50%) translateY(55px)}@-webkit-keyframes popup-data-v-141c844f{0%{-webkit-transform:scale(0) translateX(-50%) translateY(calc(-100% - 58px));transform:scale(0) translateX(-50%) translateY(calc(-100% - 58px))}to{-webkit-transform:scale(1) translateX(-50%) translateY(calc(-100% - 58px));transform:scale(1) translateX(-50%) translateY(calc(-100% - 58px))}}@keyframes popup-data-v-141c844f{0%{-webkit-transform:scale(0) translateX(-50%) translateY(calc(-100% - 58px));transform:scale(0) translateX(-50%) translateY(calc(-100% - 58px))}to{-webkit-transform:scale(1) translateX(-50%) translateY(calc(-100% - 58px));transform:scale(1) translateX(-50%) translateY(calc(-100% - 58px))}}",""])},712:function(t,e,r){"use strict";var n={props:["message","x","y","avatar","name","face","isFace"],data:function(){return{width:100}},watch:{message:function(t){var e=this;this.$refs.message&&this.$refs.message.classList.add("new"),setTimeout(function(){return e.$refs.message.classList.remove("new")},150)}}},o=(r(704),r(70));Object(o.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user"},[t.message?r("div",{ref:"message",staticClass:"user__message",style:{left:t.x+"px",top:t.y+"px"}},[t._v("\n    "+t._s(t.message)+"\n  ")]):t._e(),t._v(" "),r("img",{staticClass:"user__avatar",style:{left:t.x-t.width/2+"px",top:t.y-t.width/2+"px"},attrs:{src:t.isFace?t.face:t.avatar,width:t.width}}),t._v(" "),r("div",{staticClass:"user__name",style:{left:t.x+"px",top:t.y+"px"}},[t._v("\n    "+t._s(t.name)+"\n  ")])])},[],!1,null,"141c844f",null).exports},734:function(t,e,r){var content=r(864);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(106).default)("25ceee4d",content,!0,{sourceMap:!1})},863:function(t,e,r){"use strict";var n=r(734);r.n(n).a},864:function(t,e,r){e=t.exports=r(105)(!1);var n=r(865),o=n(r(866)),c=n(r(867));e.push([t.i,".container[data-v-62875e5f]{height:100%;width:100%;cursor:none;overflow:hidden;background-color:#000;background-image:url("+o+")}.logo[data-v-62875e5f]{width:185px;height:138px;background-image:url("+c+");background-repeat:no-repeat;line-height:138px;position:absolute;top:40%;left:53%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.input-name[data-v-62875e5f]{width:240px;background-color:hsla(0,0%,100%,0);border:1px solid #fff;text-align:center;color:#fff;top:48%;margin:10px auto 0}.btn-start[data-v-62875e5f],.input-name[data-v-62875e5f]{height:50px;font-size:18px;position:absolute;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.btn-start[data-v-62875e5f]{width:200px;background-color:#eb5757;top:56%;margin-top:20px}",""])},865:function(t,e,r){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},866:function(t,e,r){t.exports=r.p+"img/5a2b43a.svg"},867:function(t,e,r){t.exports=r.p+"img/5938178.svg"},872:function(t,e,r){"use strict";r.r(e);r(146);var n=r(35),o=r(48),c=r(148),l=(r(712),{data:function(){return{user:null,uid:null,me:null,inputText:"",isInputFocus:!1,isFace:!1,timer:null}},firebase:function(){return{users:c.a.ref("users")}},created:function(){var t=this;c.b.auth().onAuthStateChanged(function(e){e&&(console.log(e),t.user=e,t.uid=e.uid,t.me=Object(o.a)({},t.me,{avatar:e.photoURL,name:e.displayName||e.email.substring(0,e.email.lastIndexOf("@")),x:100,y:100}),c.a.ref("users/".concat(t.uid)).set(t.me))}),window.addEventListener("beforeunload",function(e){c.a.ref("users/".concat(t.uid)).set({})}),window.addEventListener("keypress",function(e){if(13===e.keyCode&&t.me)if(t.isInputFocus){if(t.isInputFocus=!1,e.target.blur(),""===t.inputText)return;t.me=Object(o.a)({},t.me,{message:t.inputText}),c.a.ref("users/".concat(t.uid,"/message")).set(t.inputText),c.a.ref("messages").push().set(t.inputText),t.inputText=""}else t.inputText="",t.$refs.input.focus(),t.isInputFocus=!0}),window.addEventListener("keypress",function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(116!==r.keyCode&&12613!==r.keyCode||t.isInputFocus)){e.next=2;break}return e.abrupt("return");case 2:t.isFace?(t.isFace=!1,t.me=Object(o.a)({},t.me,{isFace:t.isFace}),c.a.ref("users/".concat(t.uid)).set(t.me),clearInterval(t.timer)):(t.cameraOn(),t.isFace=!0,t.timer=setInterval(function(){(void 0).detect(t.$refs.video).then(function(e){if(e[0]){var r=e[0].boundingBox,n=r.x,l=r.y,f=r.width,d=r.height,m=f/3;t.$refs.canvas.getContext("2d").drawImage(t.$refs.video,n-m,l-m,f+2*m,d+2*m,0,0,100,100);var base=t.$refs.canvas.toDataURL("image/jpeg",.5);t.me=Object(o.a)({},t.me,{face:base,isFace:t.isFace}),c.a.ref("users/".concat(t.uid)).set(t.me)}})},100));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},mounted:function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),methods:{mousemove:function(t){(this.user||this.uid)&&(this.me=Object(o.a)({},this.me,{x:t.pageX,y:t.pageY}),c.a.ref("users/".concat(this.uid)).set(this.me))},clickOutside:function(t){this.isInputFocus=!1,t.target.blur()},login:function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.auth().signInWithPopup(new c.b.auth.GithubAuthProvider);case 2:e=t.sent,this.user=e.user,this.uid=e.user.uid,this.me=Object(o.a)({},this.me,{avatar:e.user.photoURL,name:e.user.displayName||e.user.email.substring(0,e.user.email.lastIndexOf("@")),x:0,y:0}),c.a.ref("users/".concat(this.uid)).set(this.me);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},computed:{userList:function(){return this.users.map(function(t){var e=Object(o.a)({},t);return delete e[".key"],e})}},components:{}}),f=(r(863),r(70)),component=Object(f.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"logo"}),this._v(" "),e("a-input",{staticClass:"input-name",attrs:{placeholder:"Your name"}}),this._v(" "),e("a-button",{staticClass:"btn-start",attrs:{type:"primary"}},[this._v("Game Start")]),this._v(" "),e("footer",[this._v("SFACE 2019 â“’ All Right Reserved")])],1)},[],!1,null,"62875e5f",null);e.default=component.exports}}]);